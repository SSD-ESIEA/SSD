<?php

include 'config.php';

class DBInterface
{
        private $database;
        private $CONFIG;

        function __construct()
        {
            global $CONFIG;
            $database = new PDO('mysql:host=' . global $CONFIG['bdd_hostname'] . ';dbname='. $CONFIG['bdd_dbname'], $CONFIG['bdd_user'], $CONFIG['bdd_password']);
        }

        function isUserValid($username = NULL, $password = NULL)
        {
            $req = $database->prepare('SELECT * FROM feedme_users WHERE username = ? AND password = ?');
            $req->execute(array($username, hash('whirlpool', $password)));

            return !($req->fetch() == NULL);
        }
}

?>
